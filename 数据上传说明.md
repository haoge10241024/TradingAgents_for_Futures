# 数据上传说明

## 📦 本仓库包含的数据

本项目**已包含示例数据**，可直接使用，无需额外下载。

### 包含的数据类型

```
qihuo/database/
├── basis/              ✅ 基差数据（主要品种，90天）
├── inventory/          ✅ 库存数据（主要品种，90天）
├── receipt/            ✅ 仓单数据（主要品种，90天）
├── positioning/        ✅ 持仓席位数据（主要品种，90天）
├── technical_analysis/ ✅ 技术分析数据（主要品种，90天）
└── term_structure/     ✅ 期限结构数据（主要品种，90天）
```

### 包含的品种

主要商品期货品种（10-15个）：

**有色金属**
- CU (铜)
- AL (铝)
- ZN (锌)

**黑色系**
- RB (螺纹钢)
- HC (热卷)
- I (铁矿石)

**贵金属**
- AU (黄金)
- AG (白银)

**化工**
- RU (橡胶)
- MA (甲醇)

**农产品**
- M (豆粕)
- Y (豆油)
- SR (白糖)
- CF (棉花)

**能源**
- SC (原油)

## 🎯 使用方式

### 方式1：直接使用示例数据（推荐新手）

```bash
# 1. 克隆仓库
git clone https://github.com/你的用户名/TradingAgents_for_Futures.git
cd TradingAgents_for_Futures

# 2. 安装依赖
pip install -r requirements.txt

# 3. 配置API密钥
cp 期货TradingAgents系统_配置文件.example.json 期货TradingAgents系统_配置文件.json
# 编辑文件，填入DeepSeek API密钥

# 4. 直接启动（使用示例数据）
python 启动系统.py
```

**优点**：
- ✅ 开箱即用
- ✅ 无需等待数据下载
- ✅ 可以立即体验所有功能

**限制**：
- ⚠️ 仅包含主要品种
- ⚠️ 数据只有90天
- ⚠️ 需要手动更新获取最新数据

### 方式2：下载完整历史数据

```bash
# 使用数据更新器下载完整数据
python unified_futures_data_updater.py

# 包含：
# - 所有52个品种
# - 最近1-2年的完整历史数据
# - 自动增量更新
```

**优点**：
- ✅ 数据完整
- ✅ 品种齐全
- ✅ 可进行深度回测

**时间**：
- 首次下载：10-30分钟
- 后续更新：2-5分钟

## 📤 为什么上传数据到GitHub？

### 1. 快速体验

用户克隆仓库后可以立即运行，无需：
- 等待数据下载
- 担心网络问题
- 配置数据源

### 2. 数据示例

展示数据格式和结构，方便用户：
- 理解数据要求
- 导入自己的数据
- 开发新功能

### 3. 测试友好

开发者可以：
- 运行单元测试
- 验证功能
- 快速调试

## 🔒 隐私和安全

### 上传的数据不包含

- ❌ 个人API密钥
- ❌ 个人分析结果
- ❌ 交易记录
- ❌ 自定义配置

### 数据来源

所有数据来自公开渠道：
- AkShare开源接口
- 交易所官方网站
- 公开市场数据

**这些数据是公开的市场信息，可以自由分享。**

## 📊 数据大小控制

### 当前策略

```bash
# 检查数据大小
du -sh qihuo/database/*

# 预期大小：
qihuo/database/basis/            ~5MB
qihuo/database/inventory/        ~2MB
qihuo/database/positioning/      ~8MB
qihuo/database/technical_analysis/ ~10MB
qihuo/database/term_structure/   ~5MB

# 总计：约30-50MB
```

### 如果数据过大

如果您的数据超过100MB，可以：

**选项1：只上传部分品种**

```bash
# 只保留主要品种
python scripts/keep_essential_data.py
```

**选项2：使用Git LFS**

```bash
# 安装Git LFS
git lfs install

# 追踪大文件
git lfs track "qihuo/database/**/*.csv"

# 提交
git add .gitattributes
git commit -m "Use LFS for large data files"
```

**选项3：不上传数据**

在`.gitignore`中添加：
```gitignore
# 不上传CSV数据文件
qihuo/database/**/*.csv
```

然后在README中说明用户需要自行下载数据。

## 🔄 数据更新策略

### 对于仓库维护者

建议每月更新一次仓库中的示例数据：

```bash
# 1. 更新数据
python unified_futures_data_updater.py

# 2. 只保留最近90天
python scripts/trim_data_to_90days.py

# 3. 提交更新
git add qihuo/database/
git commit -m "Update sample data to 2024-10"
git push
```

### 对于用户

克隆仓库后，建议立即更新到最新：

```bash
# 增量更新到最新日期
python unified_futures_data_updater.py --incremental
```

## 📝 .gitignore配置

已配置的规则：

```gitignore
# 数据库备份不上传
qihuo/database/backups/

# 缓存不上传  
qihuo/database/cache/

# 临时文件不上传
qihuo/database/*.json
qihuo/database/*.backup

# CSV数据文件可以上传（默认）
# 如果不想上传，取消下面的注释
# qihuo/database/**/*.csv
```

## ❓ 常见问题

### Q: 为什么我的数据文件没有被提交？

A: 检查`.gitignore`配置，确保没有排除`*.csv`文件。

### Q: 数据文件太大，GitHub拒绝推送？

A: 
1. 使用Git LFS
2. 或只上传部分数据
3. 或在README中说明用户需自行下载

### Q: 如何更新仓库中的示例数据？

A: 
```bash
python unified_futures_data_updater.py
python scripts/prepare_sample_data.py  # 清理为90天数据
git add qihuo/database/
git commit -m "Update sample data"
git push
```

### Q: 其他用户会覆盖我的本地数据吗？

A: 不会。Git pull时：
- 如果没有冲突，自动合并
- 如果有冲突，Git会提示
- 您的本地修改始终安全

建议：不要修改qihuo/database/下的文件，或者将其加入`.git/info/exclude`。

## 🎯 推荐实践

### 对于开源项目维护者

```bash
# 1. 提供示例数据（90天，10-15个品种）
# 2. 控制在50MB以内
# 3. 每月更新一次
# 4. 在README中说明数据范围
```

### 对于使用者

```bash
# 1. 克隆后立即更新数据
# 2. 定期运行数据更新器
# 3. 不要提交个人数据到原仓库
# 4. Fork后可以自由修改数据
```

### 对于企业用户

```bash
# 1. Fork项目到私有仓库
# 2. 上传完整历史数据
# 3. 配置自动数据更新
# 4. 设置访问权限控制
```

## 📚 相关文档

- [本地数据配置指南](本地数据配置指南.md) - 数据配置详解
- [快速开始指南](快速开始指南.md) - 快速上手
- [README.md](README.md) - 项目总览

---

**总结**：本仓库包含示例数据，可直接使用。如需完整数据，运行数据更新器即可。

