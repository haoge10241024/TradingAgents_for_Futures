# ❓ 常见问题解答 (FAQ)

## 🚀 安装和启动

### Q: 如何安装系统？
**A:** 按照以下步骤安装：
```bash
git clone https://github.com/yourusername/futures-analysis.git
cd futures-analysis
pip install -r requirements.txt
streamlit run streamlit_app.py
```

### Q: 支持哪些Python版本？
**A:** 支持Python 3.8及以上版本，推荐使用Python 3.11。

### Q: 安装依赖时出现错误怎么办？
**A:** 常见解决方案：
1. 升级pip：`python -m pip install --upgrade pip`
2. 使用虚拟环境：`python -m venv venv`
3. 如果网络问题，使用国内镜像：`pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple/`

---

## 📊 数据获取

### Q: 广期所数据获取总是超时怎么办？
**A:** v2.1版本已经解决这个问题！系统会自动检测广期所响应时间，超过20秒自动跳过，无需手动干预。

### Q: 为什么有些交易所数据获取失败？
**A:** 可能的原因：
- 网络连接问题
- 交易所API维护
- 访问频率限制
- 非交易时间

**解决方案**：
- 检查网络连接
- 稍后重试
- 系统会自动跳过失败的交易所，不影响整体分析

### Q: 支持哪些交易所？
**A:** 支持以下5个交易所：
- 大连商品交易所（大商所）
- 中国金融期货交易所（中金所）
- 郑州商品交易所（郑商所）
- 上海期货交易所（上期所）
- 广州期货交易所（广期所）

### Q: 数据更新频率如何？
**A:** 系统获取的是实时数据，建议在交易日收盘后（15:30之后）进行分析，此时数据最完整。

---

## 🔧 功能使用

### Q: 如何配置家人席位？
**A:** 在左侧边栏找到"👥 家人席位配置"：
1. 查看当前配置的席位
2. 点击"❌"删除不需要的席位
3. 输入新席位名称，点击"➕ 添加席位"
4. 点击"🔄 重置为默认"恢复默认配置

### Q: 家人席位是什么？
**A:** 家人席位是指散户投资者集中的期货公司席位，系统默认监控：
- 东方财富
- 平安期货
- 徽商期货

### Q: 如何查看详细的持仓数据？
**A:** 在分析结果页面：
1. 点击任意信号旁边的展开按钮
2. 查看前20名席位的持仓明细
3. 了解信号产生的具体原因

### Q: 什么是信号共振？
**A:** 信号共振是指多个策略同时看好（或看空）同一个品种，这种信号通常更可靠。

---

## 📈 策略理解

### Q: 多空力量变化策略的原理是什么？
**A:** 通过分析席位持仓的增减变化来判断市场趋势：
- 看多信号：多单增加且空单减少
- 看空信号：多单减少且空单增加

### Q: 蜘蛛网策略如何工作？
**A:** 基于持仓分布的分化程度判断机构资金参与情况：
- MSD > 0.05：看多信号
- MSD < -0.05：看空信号

### Q: 家人席位反向操作策略的逻辑是什么？
**A:** 基于散户往往在市场顶部做多、底部做空的特点：
- 看多信号：所有家人席位空单增加且多单减少或不变
- 看空信号：所有家人席位多单增加且空单减少或不变

### Q: 期限结构分析有什么用？
**A:** 通过比较同品种不同月份合约的价格关系：
- Back结构：近强远弱，表明当前供应紧张
- Contango结构：近弱远强，表明当前供应充足

---

## ⚡ 性能问题

### Q: 分析速度很慢怎么办？
**A:** v2.1版本已大幅优化性能：
- 首次分析：1-3分钟
- 缓存命中：10-30秒
- 广期所超时：最多20秒自动跳过

### Q: 系统卡在某个步骤不动了？
**A:** v2.1版本的智能自动跳过功能会自动处理：
- 广期所超过20秒自动跳过
- 其他交易所超过30秒自动跳过
- 系统会继续后续分析流程

### Q: 如何清除缓存？
**A:** 在左侧边栏点击"🗑️ 清除缓存"按钮。

---

## 🐛 错误处理

### Q: 出现"网络连接失败"错误？
**A:** 解决步骤：
1. 点击"🌐 测试网络"检查连接
2. 点击"🔍 网络诊断"查看详细信息
3. 检查防火墙设置
4. 稍后重试

### Q: 出现"akshare导入失败"错误？
**A:** 解决方案：
```bash
pip install akshare --upgrade
```

### Q: 分析结果为空？
**A:** 可能原因：
- 选择的日期不是交易日
- 所有交易所数据获取失败
- 网络连接问题

**解决方案**：
- 选择最近的工作日
- 检查网络连接
- 查看错误日志

---

## 📱 使用技巧

### Q: 什么时候分析效果最好？
**A:** 建议在交易日收盘后（15:30之后）进行分析，此时持仓数据最完整。

### Q: 如何提高信号的可靠性？
**A:** 
1. 关注信号共振品种（多策略一致）
2. 结合信号强度判断
3. 考虑市场整体环境
4. 参考历史表现

### Q: 可以导出分析结果吗？
**A:** 可以！在"🎯 策略总结"标签页底部：
- 📊 下载Excel报告：包含详细数据
- 📝 下载文本报告：简要版本

### Q: 如何自定义分析参数？
**A:** 在左侧边栏可以调整：
- 分析日期
- 显示数量限制
- 家人席位配置

---

## 🔧 技术问题

### Q: 可以在服务器上部署吗？
**A:** 可以！系统支持：
- 本地部署
- 服务器部署
- Streamlit Cloud部署

### Q: 支持多用户同时使用吗？
**A:** 当前版本支持多用户访问，但配置是共享的。多用户隔离功能在v3.0版本计划中。

### Q: 如何备份数据？
**A:** 数据存储在`data`目录中，定期备份该目录即可。

### Q: 可以修改超时时间吗？
**A:** 当前版本超时时间是固定的（广期所20秒，其他30秒）。可配置超时时间在v2.2版本计划中。

---

## 📞 获取帮助

### Q: 遇到问题如何获取帮助？
**A:** 多种方式获取帮助：
1. 查看本FAQ文档
2. 阅读项目文档
3. 提交GitHub Issue
4. 发送邮件：953534947@qq.com

### Q: 如何报告Bug？
**A:** 请在GitHub Issues中报告，包含：
1. 详细的错误信息
2. 复现步骤
3. 系统环境信息
4. 选择的分析日期

### Q: 如何提出新功能建议？
**A:** 欢迎在GitHub Discussions中提出想法，或发送邮件详细描述功能需求。

---

## 🔮 未来计划

### Q: 后续版本会有什么新功能？
**A:** 计划中的功能：
- v2.2：可配置超时时间、智能网络检测
- v3.0：机器学习预测、实时数据推送、移动端适配

### Q: 多久发布一次新版本？
**A:** 
- 次版本：每月发布
- 修订版本：根据需要发布
- 主版本：根据重大功能更新决定

---

**💡 提示：如果您的问题没有在这里找到答案，请随时联系我们！**

**📧 邮箱：953534947@qq.com** 